{% load static %}
<script>

let recent_volume= document.querySelector('#volume');
let volume_show = document.querySelector('#volume_show');

let audio =document.createElement("audio");
let playingSong=false;
var song="";




if (window.location.href.indexOf("playsong") > -1) {
  var song=document.getElementById("file_S").value;
  audio.src="/media/"+song;
}


// audio.src="/media/music/song3.mp3";


$(".song_img").mouseenter(function(){
  // let newDiv =$('<div id="play_ib" style="z-index:1;" ><a href=""><i class="fa fa-solid fa-play fa-2x greycolor"></i></a> </div>');
  // $("#target_btn_play").prepend(newDiv);
   
  $(".play_ib").css('display','block');
  $(".song_img").addClass("songLook");
  
});

// $(".song_img").click(function(){

//   $.ajax()

// });


$("tr").click(function(){
  window.location = "index.html";
  console.log('yes tr taf');
});

 $(".trend_songs").mouseleave(function(e){
    $(".play_ib").hide();
    $(".song_img").removeClass("songLook");
   console.log("i am mouse leave");
 });

 $("#ham_logo").click(function(e){
    e.preventDefault();
  $(".hamburger_ele").toggle(10,function(){
    $(".hamburger_ele").css("display","block");
  });
  
});


window.onload = function(){
  var divToHide = document.getElementById('ham_logo');
  document.onclick = function(e){
    if(e.target!== divToHide){
      $(".hamburger_ele").css("display","none");

    }
  };
};



function playsong(){
  audio.play();
  playingSong = true;

}

function pausesong(){
  audio.pause();
  playingSong = false;
  
}

// playsong.html
$("#play").click(function(){
  if(playingSong==false){
    playsong();
    $(this).html("<i class='fa fa-solid fa-pause fa-2x'></i>");

  }else{
    pausesong();
    $(this).html("<i class='fa fa fa-play fa-2x'></i>");
  }
});

function volume_change(){
	volume_show.innerHTML = recent_volume.value;
	audio.volume = recent_volume.value / 100;
}

function mute_sound(){
	audio.volume = 0;
	volume.value = 0;
	volume_show.innerHTML = 0;
}

</script>